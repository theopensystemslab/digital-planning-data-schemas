import {Applicant} from './data/Applicant';
import {ApplicationData} from './data/ApplicationData';
import {ProposalBase} from './data/Proposal';
import {
  ApplicationType,
  LDCApplicationType,
  PAApplicationType,
  PPApplicationType,
  PrimaryApplicationType,
} from './enums/ApplicationType';

/**
 * @internal
 * The generic base type for all applications
 * Takes a primary and granular application type which allows child properties to differ based on these inputs
 * Deriving `TPrimary` from `TGranular` is possible in TS, but not in a way which is currently compatible with ts-json-schema-generator
 */
interface ApplicationSpecification<
  TPrimary extends PrimaryApplicationType,
  TGranular extends ApplicationType,
> {
  applicationType: TGranular;
  data: {
    applicant: Applicant<TPrimary>;
    application: ApplicationData<TPrimary>;
    proposal: ProposalBase;
  };
}

export type LDC = ApplicationSpecification<'ldc', LDCApplicationType>;

export type PP = ApplicationSpecification<'pp', PPApplicationType>;

export type PA = ApplicationSpecification<'pa', PAApplicationType>;

/**
 * @title PrototypeApplication
 * @description The root specification for a planning application in England generated by a digital planning service (prototype)
 */
export type PrototypeApplication = LDC | PA | PP;
// TODO: All the rest!

// const test: PrototypeApplication = {
//   applicationType: 'ldc',
//   data: {
//     applicant: {
//       "type": "individual",
//       "name": {
//         "first": "Roald",
//         "last": "Dahl"
//       },
//       "email": "f.fox@boggischickenshed.com",
//       "phone": {
//         "primary": "Not provided by agent"
//       },
//       "address": {
//         "sameAsSiteAddress": true
//       },
//       "siteContact": {
//         "role": "applicant"
//       },
//       "ownership": {
//         "interest": "occupier",
//         "owners": [
//           {
//             "interest": "owner",
//             "name": "Matilda Wormwood",
//             "address": {
//               "town": "Reading",
//               "line1": "9, Library Way",
//               "line2": "",
//               "county": "",
//               "country": "UK",
//               "postcode": "L1T3R8Y"
//             },
//             "noticeGiven": true
//           }
//         ]
//       },
//       "agent": {
//         "name": {
//           "first": "F",
//           "last": "Fox"
//         },
//         "email": "f.fox@boggischickenshed.com",
//         "phone": {
//           "primary": "0234 567 8910"
//         },
//         "address": {
//           "line1": "The Tree",
//           "line2": "One Tree Hill",
//           "town": "Great Tunnelling",
//           "county": "",
//           "postcode": "F0XH0L3",
//           "country": ""
//         }
//       }
//     }
//   },
// };
